"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const assert = require("assert");
const os = require("os");
const util = require("util");
const __1 = require("../..");
const common_1 = require("../../common");
// var assert = require("assert")
//     , Contants = require("../lib/constants")
//     , os = require("os")
//     , Platform = require("../lib/platform")
//     , util = require("util");
describe("Platform.getUserAgent", function () {
    it("getUserAgent()", function () {
        const userAgent = common_1.Platform.getUserAgent();
        const expectedUserAgent = util.format("%s/%s Nodejs/%s azure-cosmos-js/%s", os.platform(), os.release(), process.version, __1.Constants.SDKVersion);
        assert.strictEqual(userAgent, expectedUserAgent, "invalid UserAgent format");
    });
    describe("Platform._getSafeUserAgentSegmentInfo()", function () {
        it("Removing spaces", function () {
            const safeString = common_1.Platform._getSafeUserAgentSegmentInfo("a b    c");
            assert.strictEqual(safeString, "abc");
        });
        it("empty string handling", function () {
            const safeString = common_1.Platform._getSafeUserAgentSegmentInfo("");
            assert.strictEqual(safeString, "unknown");
        });
        it("undefined", function () {
            const safeString = common_1.Platform._getSafeUserAgentSegmentInfo(undefined);
            assert.strictEqual(safeString, "unknown");
        });
        it("null", function () {
            const safeString = common_1.Platform._getSafeUserAgentSegmentInfo(null);
            assert.strictEqual(safeString, "unknown");
        });
    });
});
//# sourceMappingURL=plaftorm.spec.js.map